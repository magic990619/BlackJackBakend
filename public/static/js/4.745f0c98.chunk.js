(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1217:function(e,t,n){"use strict";var a=n(9),o=n(10),s=n(13),i=n(12),u=n(14),c=n(0),r=n.n(c),l=n(117),d=n(19);t.a=function(e,t){return function(n){return function(c){function m(n){var o;return Object(a.a)(this,m),o=Object(s.a)(this,Object(i.a)(m).call(this,n)),Object(l.b)(e,t),o}return Object(u.a)(m,c),Object(o.a)(m,[{key:"render",value:function(){var t=this;return r.a.createElement(d.a.Consumer,null,function(a){return a.store,a.storeState[e]?r.a.createElement(n,t.props):null})}}]),m}(r.a.PureComponent)}}},1222:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n(9),s=n(10),i=n(13),u=n(12),c=n(14),r=n(0),l=n.n(r),d=n(1),m=n(61),p=n(33),h=n(16),E=n(119),f=n(19),Q=n(1217),b=n(15),v=n(95),g="[QUESTIONS PAGE] GET QUESTIONS",q="[QUESTIONS PAGE] ADD QUESTION",O="[QUESTIONS PAGE] UPDATE QUESTION",y="[QUESTIONS PAGE] SELECT QUESTION",_="[QUESTIONS PAGE] REMOVE QUESTION";function w(){return function(e){return v.a.get("/questions/getAllQuestions",{}).then(function(t){e({type:g,payload:t.data.doc})})}}function N(e){return console.log(e),function(t){return v.a.post("/questions/addQuestion",{question:e}).then(function(e){return Promise.all([t({type:q})]).then(function(){return t(w())})})}}function j(e){return function(t){return v.a.post("/questions/updateQuestion",{question:e}).then(function(e){return Promise.all([t({type:O,selected_question:null})]).then(function(){return t(w())})})}}function S(e){return function(t){return v.a.post("/questions/removeQuestion",{question:e}).then(function(e){return Promise.all([t({type:_,selected_question:null})]).then(function(){return t(w())})})}}function k(e){return console.log(e),{type:y,selected_question:e}}var T={entities:[],selected_question:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(a.a)({},e,{entities:t.payload});case q:return Object(a.a)({},e);case y:return Object(a.a)({},e,{selected_question:t.selected_question});case O:return console.log("reducer"),Object(a.a)({},e,{selected_question:t.selected_question});case _:return Object(a.a)({},e);default:return e}},U=Object(h.d)({questions:A}),C=function(e){function t(){var e,n;Object(o.a)(this,t);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={data:[],new_question:"",selectedQuestion:""},n.handleChange=function(e){n.setState(b.a.set(Object(a.a)({},n.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getQuestions()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"onAddNewQuestion",value:function(){(0,this.props.addQuestion)(this.state.new_question)}},{key:"onEditQuestoin",value:function(e){(0,this.props.selectQuestion)(e),this.state.selectedQuestion=e.question}},{key:"onDeleteQuestion",value:function(e){(0,this.props.removeQuestion)(e)}},{key:"onUpdateQuestion",value:function(){var e=this.props,t=e.updateQuestion,n=e.selected_question;""!=this.state.selectedQuestion&&(t({_id:n._id,question:this.state.selectedQuestion}),this.state.selectedQuestion="")}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.questions,o=t.selected_question;return l.a.createElement(p.l,{classes:{root:n.layoutRoot},header:l.a.createElement("div",{className:"py-80"},l.a.createElement("h2",null,"Manage Questions")),contentToolbar:l.a.createElement("div",{className:"px-24"},l.a.createElement(d.y,{name:"new_question",placeholder:"New Question",className:n.input,value:this.state.new_question,style:{width:800},onChange:this.handleChange,inputProps:{"aria-label":"Description"}}),l.a.createElement(d.c,{variant:"contained",color:"primary",onClick:function(){return e.onAddNewQuestion()}},"Add New Question")),content:l.a.createElement("div",{className:"p-24"},0===a.length&&l.a.createElement("div",{className:"flex items-center justify-center h-full"},l.a.createElement(d.fb,{color:"textSecondary",variant:"h5"},"No Questions Exist")),0!==a.length&&l.a.createElement(d.L,{className:n.root},l.a.createElement(d.W,{className:n.table},l.a.createElement(d.Z,null,l.a.createElement(d.ab,null,l.a.createElement(d.Y,null,"No"),l.a.createElement(d.Y,{align:"center"},"Question"),l.a.createElement(d.Y,{align:"center"},"Actions"))),l.a.createElement(d.X,null,a.map(function(t,a){return l.a.createElement(d.ab,{key:t._id},l.a.createElement(d.Y,{component:"th",scope:"row"},a+1),l.a.createElement(d.Y,{align:"center",component:"th",scope:"row"},null!==o&&o._id===t._id&&l.a.createElement(d.y,{name:"selectedQuestion",placeholder:o.question,className:n.input,textAlign:"center",value:e.state.selectedQuestion,style:{width:"80%"},onChange:e.handleChange}),(null===o||o._id!==t._id)&&l.a.createElement("p",null,t.question)),null!==o&&o._id===t._id&&l.a.createElement(d.Y,{align:"center",component:"th",scope:"row"},l.a.createElement(d.c,{variant:"contained",color:"secondary",onClick:function(){return e.onUpdateQuestion()}},"Save")),(null===o||o._id!==t._id)&&l.a.createElement(d.Y,{align:"center",component:"th",scope:"row"},l.a.createElement(d.o,{variant:"contained",color:"primary",className:n.fab,onClick:function(){return e.onEditQuestoin(t)},size:"small"},l.a.createElement(d.w,null,"edit_icon")),l.a.createElement(d.o,{variant:"contained",color:"primary",className:n.fab,onClick:function(){return e.onDeleteQuestion(t)},size:"small"},l.a.createElement(d.w,null,"delete_icon"))))})))))})}}]),t}(r.Component);t.default=Object(Q.a)("questionsPage",U)(Object(m.withStyles)(function(e){return{addButton:{position:"absolute",right:12,bottom:12,zIndex:99},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700}}},{withTheme:!0})(Object(E.g)(Object(f.b)(function(e){var t=e.questionsPage;return{questions:t.questions.entities,selected_question:t.questions.selected_question}},function(e){return Object(h.c)({getQuestions:w,addQuestion:N,selectQuestion:k,updateQuestion:j,removeQuestion:S},e)})(C))))}}]);