(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1216:function(e,t,n){"use strict";var a=n(95),r="[USERS APP] GET USERS",u="[USERS APP] SET SEARCH TEXT",c="[USERS APP] TOGGLE IN SELECTED USERS",o="[USERS APP] SELECT ALL USERS",i="[USERS APP] DESELECT ALL USERS",s="[USERS APP] OPEN NEW USER DIALOG",d="[USERS APP] CLOSE NEW USER DIALOG",l="[USERS APP] OPEN EDIT USER DIALOG",p="[USERS APP] CLOSE EDIT USER DIALOG",f="[USERS APP] ADD USER",m="[USERS APP] UPDATE USER",g="[USERS APP] REMOVE USER",_="[USERS APP] REMOVE USERS";function h(e){var t="";switch(console.log(e.id),e.id){case"active":t="/auth/getActiveAccountData";break;case"inactive":t="/auth/getInactiveAccountData";break;case"closed":t="/auth/getClosedAccountData";break;case"restricted":t="/auth/getRestrictedAccountData";break;default:t="/auth/getAllAccountData"}return function(n){return a.a.get(t,{}).then(function(t){n({type:r,payload:t.data.doc,routeParams:e})})}}function E(e){return{type:u,searchText:e.target.value}}function y(e){return{type:c,userId:e}}function v(){return{type:o}}function A(){return{type:i}}function b(){return{type:s}}function S(){return{type:d}}function P(e){return{type:l,data:e}}function G(){return{type:p}}function w(e){return function(t,n){var r=n().usersApp.users.routeParams;return a.a.post("/auth/addAccountData",{newAccount:e}).then(function(e){return Promise.all([t({type:f})]).then(function(){return t(h(r))})})}}function O(e){return function(t,n){var r=n().usersApp.users.routeParams,u=a.a.post("/auth/updateAccountData",{user:e});return console.log(e),u.then(function(e){return Promise.all([t({type:m})]).then(function(){return t(h(r))})})}}function D(e){return function(t,n){var r=n().usersApp.users.routeParams;return a.a.post("/auth/removeAccountData",{accountId:e}).then(function(e){return Promise.all([t({type:g})]).then(function(){return t(h(r))})})}}function j(e){return function(t,n){var r=n().usersApp.users.routeParams;return a.a.post("/auth/removeAccountsData",{accountIds:e}).then(function(e){return Promise.all([t({type:_}),t({type:i})]).then(function(){return t(h(r))})})}}n.d(t,"d",function(){return r}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return p}),n.d(t,"n",function(){return h}),n.d(t,"t",function(){return E}),n.d(t,"u",function(){return y}),n.d(t,"s",function(){return v}),n.d(t,"m",function(){return A}),n.d(t,"p",function(){return b}),n.d(t,"l",function(){return S}),n.d(t,"o",function(){return P}),n.d(t,"k",function(){return G}),n.d(t,"j",function(){return w}),n.d(t,"v",function(){return O}),n.d(t,"q",function(){return D}),n.d(t,"r",function(){return j})},1217:function(e,t,n){"use strict";var a=n(9),r=n(10),u=n(13),c=n(12),o=n(14),i=n(0),s=n.n(i),d=n(117),l=n(19);t.a=function(e,t){return function(n){return function(i){function p(n){var r;return Object(a.a)(this,p),r=Object(u.a)(this,Object(c.a)(p).call(this,n)),Object(d.b)(e,t),r}return Object(o.a)(p,i),Object(r.a)(p,[{key:"render",value:function(){var t=this;return s.a.createElement(l.a.Consumer,null,function(a){return a.store,a.storeState[e]?s.a.createElement(n,t.props):null})}}]),p}(s.a.PureComponent)}}},1218:function(e,t,n){"use strict";var a=n(95),r="[GAMES PAGE] GET GAMES",u="[GAMES PAGE] ADD GAME",c="[GAMES PAGE] UPDATE GAME NAME",o="[GAMES PAGE] SELECT GAME",i="[GAMES PAGE] REMOVE GAME NAME";function s(){return function(e){return a.a.get("/games/getAllGameNames",{}).then(function(t){e({type:r,payload:t.data.doc})})}}function d(e){return function(t){return a.a.post("/games/addGameName",{game:e}).then(function(e){return Promise.all([t({type:u})]).then(function(){return t(s())})})}}function l(e){return function(t){return a.a.post("/games/updateGameName",{game:e}).then(function(e){return Promise.all([t({type:c,selected_game:null})]).then(function(){return t(s())})})}}function p(e){return function(t){return a.a.post("/games/removeGameName",{game:e}).then(function(e){return Promise.all([t({type:i,selected_game:null})]).then(function(){return t(s())})})}}function f(e){return console.log(e),{type:o,selected_game:e}}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return d}),n.d(t,"j",function(){return l}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return f})},1219:function(e,t,n){"use strict";var a=n(16),r=n(40),u=n(8),c=n(1216),o={entities:[],searchText:"",selectedUserIds:[],routeParams:{},userDialog:{type:"new",props:{open:!1},data:null}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.d:return Object(u.a)({},e,{entities:t.payload,routeParams:t.routeParams});case c.h:return Object(u.a)({},e,{searchText:t.searchText});case c.i:var n=t.userId,a=Object(r.a)(e.selectedUserIds);return a=void 0!==a.find(function(e){return e===n})?a.filter(function(e){return e!==n}):Object(r.a)(a).concat([n]),Object(u.a)({},e,{selectedUserIds:a});case c.g:var i=Object.keys(e.entities).map(function(t){return e.entities[t]}).map(function(e){return e._id});return Object(u.a)({},e,{selectedUserIds:i});case c.c:return Object(u.a)({},e,{selectedUserIds:[]});case c.f:return Object(u.a)({},e,{userDialog:{type:"new",props:{open:!0},data:null}});case c.b:return Object(u.a)({},e,{userDialog:{type:"new",props:{open:!1},data:null}});case c.e:return Object(u.a)({},e,{userDialog:{type:"edit",props:{open:!0},data:t.data}});case c.a:return Object(u.a)({},e,{userDialog:{type:"edit",props:{open:!1},data:null}});default:return e}},s=Object(a.d)({users:i});t.a=s},1220:function(e,t,n){"use strict";var a=n(16),r=n(8),u=n(1218),c={entities:[],selected_game:null},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.b:return Object(r.a)({},e,{entities:t.payload});case u.a:return Object(r.a)({},e);case u.d:return Object(r.a)({},e,{selected_game:t.selected_game});case u.e:return console.log("reducer"),Object(r.a)({},e,{selected_game:t.selected_game});case u.c:return Object(r.a)({},e);default:return e}},i=Object(a.d)({games:o});t.a=i},1223:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(9),u=n(10),c=n(13),o=n(12),i=n(14),s=n(0),d=n.n(s),l=n(1),p=n(61),f=n(33),m=n(330),g=n(16),_=n(119),h=n(19),E=n(1217),y=n(15),v=n(95),A="[GAMES PAGE] GET_GAME_DATA_BY_ID",b="[GAMES PAGE] GET_ALL_GAME_DATA";function S(e){return console.log(e),function(t){return v.a.post("/game_data/getGameDataByGameIdAdmin",{game_id:e}).then(function(e){console.log(e),t({type:A,data:e.data.doc})})}}function P(e){return function(e){return v.a.get("/game_data/getAllGameData",{}).then(function(t){console.log(t),e({type:b,data:t.data.doc})})}}var G=n(1218),w=n(1216),O={entities:[],selected_game:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case A:return Object(a.a)({},e,{entities:t.data});default:return e}},j=Object(g.d)({game_data:D}),U=n(1220),R=n(1219),I=function(e){function t(){var e,n;Object(r.a)(this,t);for(var u=arguments.length,i=new Array(u),s=0;s<u;s++)i[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={displayData:[],new_name:"",selectedGameId:""},n.handleChange=function(e){n.setState(y.a.set(Object(a.a)({},n.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},n.selectGame=function(e){var t=n.props,a=t.users,r=t.game_data,u=[];a.forEach(function(t){var n={account_id:t._id};n.user_name=t.user_name,n.total_winning=0,n.total_wagered=0,n.wining_percenet=0,n.level=0,n.played_hand=0,n.played_date=0;r.forEach(function(a){t._id==a.account_id&&a.game_id===e&&(0,n._id=t._id,n.total_winning+=a.total_winning,n.total_wagered+=a.total_wagered,n.level=n.level>a.level?n.level:a.level,n.played_hand+=a.played_hand,n.played_date+=n.played_date>a.played_date?n.played_date:a.played_date)}),n.wining_percenet=parseInt(1*n.total_winning/n.played_hand*100),u.push(n)}),n.setState({selectedGameId:e,displayData:u})},n.parseData=function(){var e=n.props,t=e.users,a=e.game_data,r=[];return t.forEach(function(e){var t={account_id:e._id};t.user_name=e.user_name,t.total_winning=0,t.total_wagered=0,t.wining_percenet=0,t.level=0,t.played_hand=0,t.played_date=0;a.forEach(function(n){e._id==n.account_id&&(0,t._id=e._id,t.total_winning+=n.total_winning,t.total_wagered+=n.total_wagered,t.level=t.level>n.level?t.level:n.level,t.played_hand+=n.played_hand,t.played_date+=t.played_date>n.played_date?t.played_date:n.played_date)}),t.wining_percenet=parseInt(t.total_winning/t.played_hand*1*100),r.push(t)}),r},n}return Object(i.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getGames(),this.props.getAllGameData();this.props.getUsers({id:"active"})}},{key:"componentDidUpdate",value:function(e,t){}},{key:"viewUserGameData",value:function(e){var t=this,n=this.props.game_data,a=[];n.forEach(function(n){if(e.account_id==n.account_id&&n.game_id==t.state.selectedGameId){var r={account_id:e._id,user_name:e.user_name};r._id=e._id,r.total_winning=n.total_winning,r.total_wagered=n.total_wagered,r.wining_percenet=parseInt(1*n.total_winning/n.played_hand*100),r.level=n.level,r.played_hand=n.played_hand,r.played_date=n.played_date,a.push(r)}}),this.setState({displayData:a})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.games;t.game_data,t.users;return d.a.createElement(f.l,{classes:{root:n.layoutRoot},header:d.a.createElement("div",{className:"py-80"},d.a.createElement("h2",null,"User Play Data")),contentToolbar:d.a.createElement("div",{className:"px-24 flex flex-row"},d.a.createElement(l.fb,{variant:"subtitle1"},"Select Game"),d.a.createElement(l.q,{className:"pl-24"},d.a.createElement(l.Q,{value:this.state.selectedGameId,onChange:function(t){return e.selectGame(t.target.value)},displayEmpty:!0,name:"selectedGameId",className:n.selectEmpty},a.map(function(e,t){return d.a.createElement(l.I,{value:e._id,key:t}," ",e.name," ")})))),content:d.a.createElement(f.a,{animation:"transition.slideUpIn",delay:300},d.a.createElement(m.b,{className:"-striped -highlight border-0",getTrProps:function(t,n,a){return{className:"cursor-pointer",onClick:function(t,a){n&&e.viewUserGameData(n.original)}}},data:this.state.displayData,columns:[{accessor:"",Cell:function(e){},className:"justify-center",sortable:!1,width:64},{Header:"User Name",accessor:"user_name",filterable:!0,className:"font-bold"},{Header:"Total Winning",accessor:"total_winning",filterable:!0,className:"font-bold"},{Header:"Total Wagered",accessor:"total_wagered",filterable:!0},{Header:"Winning Percent",accessor:"wining_percenet",filterable:!0},{Header:"Played hands",accessor:"played_hand",filterable:!0}],defaultPageSize:10,noDataText:"No Record found"}))})}}]),t}(s.Component);t.default=Object(E.a)("GameDataPage",Object(g.d)({data_reducer:j,games_reducer:U.a,users_reducer:R.a}))(Object(p.withStyles)(function(e){return{addButton:{position:"absolute",right:12,bottom:12,zIndex:99},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700}}},{withTheme:!0})(Object(_.g)(Object(h.b)(function(e){var t=e.GameDataPage;return{game_data:t.data_reducer.game_data.entities,games:t.games_reducer.games.entities,users:t.users_reducer.users.entities}},function(e){return Object(g.c)({getGames:G.g,getGameDataByGameId:S,getUsers:w.n,getAllGameData:P},e)})(I))))}}]);