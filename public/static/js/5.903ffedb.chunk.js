(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1285:function(e,t,a){"use strict";var n=a(9),r=a(10),c=a(13),l=a(12),o=a(14),s=a(0),d=a.n(s),i=a(113),u=a(20);t.a=function(e,t){return function(a){return function(s){function m(a){var r;return Object(n.a)(this,m),r=Object(c.a)(this,Object(l.a)(m).call(this,a)),Object(i.b)(e,t),r}return Object(o.a)(m,s),Object(r.a)(m,[{key:"render",value:function(){var t=this;return d.a.createElement(u.a.Consumer,null,function(n){return n.store,n.storeState[e]?d.a.createElement(a,t.props):null})}}]),m}(d.a.PureComponent)}}},1300:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(9),c=a(10),l=a(13),o=a(12),s=a(14),d=a(0),i=a.n(d),u=a(2),m=a(74),w=a(29),p=a(17),h=a(212),E=a(20),f=a(1285),R=a(15),b=a(68),g="[REWARDS PAGE] GET REWARDS",v="[REWARDS PAGE] UPDATE REWARD",y="[REWARDS PAGE] SELECT REWARD";function _(){return function(e){return b.a.get("/rewards/getAllRewards",{}).then(function(t){e({type:g,payload:t.data.doc})})}}function j(e){return function(t){return b.a.post("/rewards/updateReward",{reward:e}).then(function(e){return Promise.all([t({type:v,selected_reward:null})]).then(function(){return t(_())})})}}function A(e){return console.log(e),{type:y,selected_reward:e}}var O={entities:[],selected_reward:null},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(n.a)({},e,{entities:t.payload});case y:return Object(n.a)({},e,{selected_reward:t.selected_reward});case v:return console.log("reducer"),Object(n.a)({},e,{selected_reward:t.selected_reward});default:return e}},D=Object(p.d)({rewards:k}),N=function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,s=new Array(c),d=0;d<c;d++)s[d]=arguments[d];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={data:[],new_name:"",selectedRewardAmount:""},a.handleChange=function(e){a.setState(R.a.set(Object(n.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getRewards()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"onEditReward",value:function(e){(0,this.props.selectReward)(e),this.state.selectedRewardAmount=e.amount}},{key:"onUpdateReward",value:function(){var e=this.props,t=e.updateReward,a=e.selected_reward;""!=this.state.selectedRewardAmount&&(console.log("aaa"),t({_id:a._id,amount:this.state.selectedRewardAmount}),this.state.selectedRewardAmount="")}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.rewards,r=t.selected_reward;return i.a.createElement(w.l,{classes:{root:a.layoutRoot},header:i.a.createElement("div",{className:"py-80"},i.a.createElement(u.eb,{variant:"h6",className:"hidden sm:flex"},"Manage Daily Rewards")),content:i.a.createElement("div",{className:"p-24"},0===n.length&&i.a.createElement("div",{className:"flex items-center justify-center h-full"},i.a.createElement(u.eb,{color:"textSecondary",variant:"h5"},"No Daily Rewards Exist")),0!==n.length&&i.a.createElement(u.L,{className:a.root},i.a.createElement(u.V,{className:a.table},i.a.createElement(u.Y,null,i.a.createElement(u.Z,null,i.a.createElement(u.X,null,"No"),i.a.createElement(u.X,{align:"center"},"Day"),i.a.createElement(u.X,{align:"center"},"Rewards Amount"),i.a.createElement(u.X,{align:"center"},"Actions"))),i.a.createElement(u.W,null,n.map(function(t,n){return i.a.createElement(u.Z,{key:t._id},i.a.createElement(u.X,{component:"th",scope:"row"},n+1),i.a.createElement(u.X,{align:"center",component:"th",scope:"row"},"Day "+(n+1)),i.a.createElement(u.X,{align:"center",component:"th",scope:"row"},null!==r&&r._id===t._id&&i.a.createElement(u.y,{name:"selectedRewardAmount",placeholder:r.amount,className:a.input,value:e.state.selectedRewardAmount,onChange:e.handleChange}),(null===r||r._id!==t._id)&&i.a.createElement("p",null,t.amount)),null!==r&&r._id===t._id&&i.a.createElement(u.X,{align:"center",component:"th",scope:"row"},i.a.createElement(u.c,{variant:"contained",color:"secondary",onClick:function(){return e.onUpdateReward()}},"Save")),(null===r||r._id!==t._id)&&i.a.createElement(u.X,{align:"center",component:"th",scope:"row"},i.a.createElement(u.o,{variant:"contained",color:"primary",className:a.fab,onClick:function(){return e.onEditReward(t)},size:"small"},i.a.createElement(u.w,null,"edit_icon"))))})))))})}}]),t}(d.Component);t.default=Object(f.a)("rewardsPage",D)(Object(m.withStyles)(function(e){return{addButton:{position:"absolute",right:12,bottom:12,zIndex:99},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700}}},{withTheme:!0})(Object(h.g)(Object(E.b)(function(e){var t=e.rewardsPage;return{rewards:t.rewards.entities,selected_reward:t.rewards.selected_reward}},function(e){return Object(p.c)({getRewards:_,selectReward:A,updateReward:j},e)})(N))))}}]);